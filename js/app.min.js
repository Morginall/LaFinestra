(()=>{"use strict";const e={};let t=!0,o=(e=500)=>{let o=document.querySelector("body");if(t){let n=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<n.length;e++){n[e].style.paddingRight="0px"}o.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),t=!1,setTimeout((function(){t=!0}),e)}},n=(e=500)=>{let o=document.querySelector("body");if(t){let n=document.querySelectorAll("[data-lp]");for(let e=0;e<n.length;e++){n[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}o.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),t=!1,setTimeout((function(){t=!0}),e)}};e.popup=new class{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.popupLogging("Прокинувся"),this.eventsPopup()}eventsPopup(){document.addEventListener("click",function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t)return e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,"error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,void this.open()):void this.popupLogging(`Йой, не заповнено атрибут у ${t.classList}`);return e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen?(e.preventDefault(),void this.close()):void 0}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen)return e.preventDefault(),void this.close();this.options.focusCatch&&9==e.which&&this.isOpen&&this._focusCatch(e)}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.addEventListener("load",function(){window.location.hash&&this._openToHash()}.bind(this)))}open(e){if(t)if(this.bodyLock=!(!document.documentElement.classList.contains("lock")||this.isOpen),e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.youTubeCode){const e=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,t=document.createElement("iframe");t.setAttribute("allowfullscreen","");const o=this.options.setAutoplayYoutube?"autoplay;":"";if(t.setAttribute("allow",`${o}; encrypted-media`),t.setAttribute("src",e),!this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)){this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,"")}this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(t)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:!this.bodyLock&&n(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout((()=>{this._focusTrap()}),50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging("Відкрив попап")}else this.popupLogging("Йой, такого попапу немає. Перевірте коректність введення. ")}close(e){e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&t&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.youTubeCode&&this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&(this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),!this.bodyLock&&o(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout((()=>{this._focusTrap()}),50),this.popupLogging("Закрив попап"))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;const t=document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`);this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,t&&e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(t),n=o.indexOf(document.activeElement);e.shiftKey&&0===n&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||n!==o.length-1||(o[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&function(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}(`[Попапос]: ${e}`)}}({});let i=!1;setTimeout((()=>{if(i){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);var s={allSumm:0,cashSumm:0,cardSumm:0},u=document.getElementById("allSumm"),a=document.getElementById("cashSumm"),l=document.getElementById("cardSumm"),c=0,r=Number(),d=Number(),m=Number(),p=Number(),h=Number(),g=Number(),y=Number(),f=Number(),b=Number(),v=Number(),E=Number(),S=Number(),B=Number(),I=document.getElementById("chekWindow"),L=Number(),O=Number(),A=Number(),k=Number(),w=Number(),N=Number(),M=Number(),C=Number(),_=Number(),q=Number(),W=Number(),$=Number(),T=Number(),P=Number(),x=document.getElementById("reportEspresso"),H=document.getElementById("reportAmericano"),F=document.getElementById("reportDopio"),J=document.getElementById("reportKapucinoS"),R=document.getElementById("reportKapucinoM"),D=document.getElementById("reportKapucinoL"),j=document.getElementById("reportLatteS"),K=document.getElementById("reportLatteM"),V=document.getElementById("reportLatteL"),Y=document.getElementById("reportRafS"),U=document.getElementById("reportRafM"),z=document.getElementById("reportFletWhiteS"),G=document.getElementById("reportFletWhiteM");const Q=document.getElementById("sell"),X=document.getElementById("confirmCash"),Z=document.getElementById("confirmCard"),ee=document.getElementById("beforeMoneyButton"),te=document.getElementById("espressoButton"),oe=document.getElementById("americanoButton"),ne=document.getElementById("dopioButton"),ie=document.getElementById("kapucinoSButton"),se=document.getElementById("kapucinoMButton"),ue=document.getElementById("kapucinoLButton"),ae=document.getElementById("latteSButton"),le=document.getElementById("latteMButton"),ce=document.getElementById("latteLButton"),re=document.getElementById("rafSButton"),de=document.getElementById("rafMButton"),me=document.getElementById("fletWhiteSButton"),pe=document.getElementById("fletWhiteMButton");function he(){L=0,L=O+A+k+w+N+M+C+_+q+W+$+T+P,I.value=L,console.log(L)}te.addEventListener("click",(function(){r=document.getElementById("espresso").value,O=19*r,he()})),oe.addEventListener("click",(function(){d=document.getElementById("americano").value,A=19*d,he()})),ne.addEventListener("click",(function(){m=document.getElementById("dopio").value,k=33*m,he()})),ie.addEventListener("click",(function(){p=document.getElementById("kapucinoS").value,w=30*p,he()})),se.addEventListener("click",(function(){h=document.getElementById("kapucinoM").value,N=37*h,he()})),ue.addEventListener("click",(function(){g=document.getElementById("kapucinoL").value,M=43*g,he()})),ae.addEventListener("click",(function(){y=document.getElementById("latteS").value,C=30*y,he()})),le.addEventListener("click",(function(){f=document.getElementById("latteM").value,_=37*f,he()})),ce.addEventListener("click",(function(){b=document.getElementById("latteL").value,q=43*b,he()})),re.addEventListener("click",(function(){v=document.getElementById("rafS").value,W=43*v,he()})),de.addEventListener("click",(function(){E=document.getElementById("rafM").value,$=50*E,he()})),me.addEventListener("click",(function(){S=document.getElementById("fletWhiteS").value,T=35*S,he()})),pe.addEventListener("click",(function(){B=document.getElementById("fletWhiteM").value,P=43*B,he()})),Q.addEventListener("click",(function(){L-=L/100*20,I.value=L}));let ge={espresso:Number(0),americano:Number(0),dopio:Number(0),kapucinoS:Number(0),kapucinoM:Number(0),kapucinoL:Number(0),latteS:Number(0),latteM:Number(0),latteL:Number(0),rafS:Number(0),rafM:Number(0),fletWhiteS:Number(0),fletWhiteM:Number(0)};function ye(){s.allSumm=s.allSumm+L,u.value=s.allSumm,fe()}function fe(){localStorage.setItem("summ",JSON.stringify(s)),console.log(s),A=d=document.getElementById("americano").value=0,O=r=document.getElementById("espresso").value=0,k=m=document.getElementById("dopio").value=0,w=p=document.getElementById("kapucinoS").value=0,N=h=document.getElementById("kapucinoM").value=0,M=g=document.getElementById("kapucinoL").value=0,C=y=document.getElementById("latteS").value=0,_=f=document.getElementById("latteM").value=0,q=b=document.getElementById("latteL").value=0,W=v=document.getElementById("rafS").value=0,$=E=document.getElementById("rafM").value=0,T=S=document.getElementById("fletWhiteS").value=0,P=B=document.getElementById("fletWhiteM").value=0,I.value=L=0,document.getElementById("beforeMoney").value=""}function be(){ge={espresso:ge.espresso+ +r,americano:ge.americano+ +d,dopio:ge.dopio+ +m,kapucinoS:ge.kapucinoS+ +p,kapucinoM:ge.kapucinoM+ +h,kapucinoL:ge.kapucinoL+ +g,latteS:ge.latteS+ +y,latteM:ge.latteM+ +f,latteL:ge.latteL+ +b,rafS:ge.rafS+ +v,rafM:ge.rafM+ +E,fletWhiteS:ge.fletWhiteS+ +S,fletWhiteM:ge.fletWhiteM+ +B},localStorage.setItem("object",JSON.stringify(ge)),console.log(localStorage),ve()}function ve(){x.value=ge.espresso,H.value=ge.americano,F.value=ge.dopio,J.value=ge.kapucinoS,R.value=ge.kapucinoM,D.value=ge.kapucinoL,j.value=ge.latteS,K.value=ge.latteM,V.value=ge.latteL,Y.value=ge.rafS,U.value=ge.rafM,z.value=ge.fletWhiteS,G.value=ge.fletWhiteM}X.addEventListener("click",(function(){be(),s.cashSumm=s.cashSumm+L,a.value=s.cashSumm,Ee+=1,localStorage.setItem("auditCounter",JSON.stringify(Ee)),ye()})),Z.addEventListener("click",(function(){be(),s.cardSumm=s.cardSumm+L,l.value=s.cardSumm,Ee+=1,localStorage.setItem("auditCounter",JSON.stringify(Ee)),fe()})),ee.addEventListener("click",(function(){c=document.getElementById("beforeMoney").value,s.allSumm=s.allSumm+ +c,ye()}));var Ee=Number(0);window.onload=function(){(Ee=JSON.parse(localStorage.getItem("auditCounter")))>0&&(ge=JSON.parse(localStorage.getItem("object")),s=JSON.parse(localStorage.getItem("summ")),u.value=s.allSumm,a.value=s.cashSumm,l.value=s.cardSumm,ve())},document.getElementById("closeDay").addEventListener("click",(function(){ge={espresso:0,americano:0,dopio:0,kapucinoS:0,kapucinoM:0,kapucinoL:0,latteS:0,latteM:0,latteL:0,rafS:0,rafM:0,fletWhiteS:0,fletWhiteM:0},s={allSumm:0,cashSumm:0,cardSumm:0},u.value=s.allSumm,a.value=s.cashSumm,l.value=s.cardSumm,ve(),localStorage.removeItem("object"),localStorage.removeItem("summ"),localStorage.removeItem("auditCounter"),Ee=0,console.log("zhopa")}));document.querySelectorAll("all-report-item");window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.addEventListener("click",(function(e){let t=e.target;if(t.closest("[data-quantity-plus]")||t.closest("[data-quantity-minus]")){const e=t.closest("[data-quantity]").querySelector("[data-quantity-value]");let o=parseInt(e.value);t.hasAttribute("data-quantity-plus")?(o++,+e.dataset.quantityMax&&+e.dataset.quantityMax<o&&(o=e.dataset.quantityMax)):(--o,+e.dataset.quantityMin?+e.dataset.quantityMin>o&&(o=e.dataset.quantityMin):o<1&&(o=0)),t.closest("[data-quantity]").querySelector("[data-quantity-value]").value=o}}))})();