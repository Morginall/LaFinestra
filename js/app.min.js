(()=>{"use strict";const e={};let t=!0,o=(e=500)=>{let o=document.querySelector("body");if(t){let n=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<n.length;e++){n[e].style.paddingRight="0px"}o.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),t=!1,setTimeout((function(){t=!0}),e)}},n=(e=500)=>{let o=document.querySelector("body");if(t){let n=document.querySelectorAll("[data-lp]");for(let e=0;e<n.length;e++){n[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}o.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),t=!1,setTimeout((function(){t=!0}),e)}};e.popup=new class{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.popupLogging("Прокинувся"),this.eventsPopup()}eventsPopup(){document.addEventListener("click",function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t)return e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,"error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,void this.open()):void this.popupLogging(`Йой, не заповнено атрибут у ${t.classList}`);return e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen?(e.preventDefault(),void this.close()):void 0}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen)return e.preventDefault(),void this.close();this.options.focusCatch&&9==e.which&&this.isOpen&&this._focusCatch(e)}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.addEventListener("load",function(){window.location.hash&&this._openToHash()}.bind(this)))}open(e){if(t)if(this.bodyLock=!(!document.documentElement.classList.contains("lock")||this.isOpen),e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.youTubeCode){const e=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,t=document.createElement("iframe");t.setAttribute("allowfullscreen","");const o=this.options.setAutoplayYoutube?"autoplay;":"";if(t.setAttribute("allow",`${o}; encrypted-media`),t.setAttribute("src",e),!this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)){this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,"")}this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(t)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:!this.bodyLock&&n(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout((()=>{this._focusTrap()}),50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging("Відкрив попап")}else this.popupLogging("Йой, такого попапу немає. Перевірте коректність введення. ")}close(e){e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&t&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.youTubeCode&&this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&(this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),!this.bodyLock&&o(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout((()=>{this._focusTrap()}),50),this.popupLogging("Закрив попап"))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;const t=document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`);this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,t&&e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(t),n=o.indexOf(document.activeElement);e.shiftKey&&0===n&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||n!==o.length-1||(o[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&function(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}(`[Попапос]: ${e}`)}}({});let i=!1;setTimeout((()=>{if(i){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);var s={allSumm:0,cashSumm:0,cardSumm:0},l=document.getElementById("allSumm"),a=document.getElementById("cashSumm"),u=document.getElementById("cardSumm"),c=0,r=Number(),d=Number(),m=Number(),p=Number(),h=Number(),g=Number(),v=Number(),y=Number(),f=Number(),b=Number(),E=Number(),S=Number(),B=Number(),I=Number(),L=Number(),k=Number(),_=Number(),O=Number(),M=document.getElementById("chekWindow"),N=Number(),A=Number(),w=Number(),C=Number(),q=Number(),W=Number(),$=Number(),T=Number(),F=Number(),P=Number(),x=Number(),H=Number(),J=Number(),R=Number(),D=Number(),V=Number(),j=Number(),K=Number(),Y=Number(),U=document.getElementById("reportEspresso"),G=document.getElementById("reportAmericano"),Q=document.getElementById("reportDopio"),X=document.getElementById("reportKapucinoS"),z=document.getElementById("reportKapucinoM"),Z=document.getElementById("reportKapucinoL"),ee=document.getElementById("reportLatteS"),te=document.getElementById("reportLatteM"),oe=document.getElementById("reportLatteL"),ne=document.getElementById("reportRafS"),ie=document.getElementById("reportRafM"),se=document.getElementById("reportFletWhiteS"),le=document.getElementById("reportFletWhiteM"),ae=document.getElementById("reportCream"),ue=document.getElementById("reportSyrup"),ce=document.getElementById("reportMilk"),re=document.getElementById("reportVegetableMilk"),de=document.getElementById("reportLactoseFreeMilk");const me=document.getElementById("sell"),pe=document.getElementById("confirmCash"),he=document.getElementById("confirmCard"),ge=document.getElementById("beforeMoneyButton"),ve=document.getElementById("espressoButton"),ye=document.getElementById("americanoButton"),fe=document.getElementById("dopioButton"),be=document.getElementById("kapucinoSButton"),Ee=document.getElementById("kapucinoMButton"),Se=document.getElementById("kapucinoLButton"),Be=document.getElementById("latteSButton"),Ie=document.getElementById("latteMButton"),Le=document.getElementById("latteLButton"),ke=document.getElementById("rafSButton"),_e=document.getElementById("rafMButton"),Oe=document.getElementById("fletWhiteSButton"),Me=document.getElementById("fletWhiteMButton"),Ne=document.getElementById("creamButton"),Ae=document.getElementById("syrupButton"),we=document.getElementById("milkButton"),Ce=document.getElementById("vegetableMilkButton"),qe=document.getElementById("lactoseFreeMilkButton");function We(){N=0,N=A+w+C+q+W+$+T+F+P+x+H+J+R+D+V+j+K+Y,M.value=N}ve.addEventListener("click",(function(){r=document.getElementById("espresso").value,A=19*r,We()})),ye.addEventListener("click",(function(){d=document.getElementById("americano").value,w=19*d,We()})),fe.addEventListener("click",(function(){m=document.getElementById("dopio").value,C=33*m,We()})),be.addEventListener("click",(function(){p=document.getElementById("kapucinoS").value,q=30*p,We()})),Ee.addEventListener("click",(function(){h=document.getElementById("kapucinoM").value,W=37*h,We()})),Se.addEventListener("click",(function(){g=document.getElementById("kapucinoL").value,$=43*g,We()})),Be.addEventListener("click",(function(){v=document.getElementById("latteS").value,T=30*v,We()})),Ie.addEventListener("click",(function(){y=document.getElementById("latteM").value,F=37*y,We()})),Le.addEventListener("click",(function(){f=document.getElementById("latteL").value,P=43*f,We()})),ke.addEventListener("click",(function(){b=document.getElementById("rafS").value,x=43*b,We()})),_e.addEventListener("click",(function(){E=document.getElementById("rafM").value,H=50*E,We()})),Oe.addEventListener("click",(function(){S=document.getElementById("fletWhiteS").value,J=35*S,We()})),Me.addEventListener("click",(function(){B=document.getElementById("fletWhiteM").value,R=43*B,We()})),Ne.addEventListener("click",(function(){I=document.getElementById("cream").value,D=6*I,We()})),Ae.addEventListener("click",(function(){L=document.getElementById("syrup").value,V=6*L,We()})),we.addEventListener("click",(function(){k=document.getElementById("milk").value,j=6*k,We()})),Ce.addEventListener("click",(function(){_=document.getElementById("vegetableMilk").value,K=14*_,We()})),qe.addEventListener("click",(function(){O=document.getElementById("lactoseFreeMilk").value,Y=10*O,We()})),me.addEventListener("click",(function(){N-=N/100*20,M.value=N}));let $e={espresso:Number(0),americano:Number(0),dopio:Number(0),kapucinoS:Number(0),kapucinoM:Number(0),kapucinoL:Number(0),latteS:Number(0),latteM:Number(0),latteL:Number(0),rafS:Number(0),rafM:Number(0),fletWhiteS:Number(0),fletWhiteM:Number(0),cream:Number(),syrup:Number(),milk:Number(),vegetableMilk:Number(),lactoseFreeMilk:Number()};function Te(){s.allSumm=s.allSumm+N,l.value=s.allSumm,Fe()}function Fe(){localStorage.setItem("summ",JSON.stringify(s)),w=d=document.getElementById("americano").value=0,A=r=document.getElementById("espresso").value=0,C=m=document.getElementById("dopio").value=0,q=p=document.getElementById("kapucinoS").value=0,W=h=document.getElementById("kapucinoM").value=0,$=g=document.getElementById("kapucinoL").value=0,T=v=document.getElementById("latteS").value=0,F=y=document.getElementById("latteM").value=0,P=f=document.getElementById("latteL").value=0,x=b=document.getElementById("rafS").value=0,H=E=document.getElementById("rafM").value=0,J=S=document.getElementById("fletWhiteS").value=0,R=B=document.getElementById("fletWhiteM").value=0,D=I=document.getElementById("cream").value=0,V=L=document.getElementById("syrup").value=0,j=k=document.getElementById("milk").value=0,K=_=document.getElementById("vegetableMilk").value=0,Y=O=document.getElementById("lactoseFreeMilk").value=0,M.value=N=0,document.getElementById("beforeMoney").value=""}function Pe(){$e={espresso:$e.espresso+ +r,americano:$e.americano+ +d,dopio:$e.dopio+ +m,kapucinoS:$e.kapucinoS+ +p,kapucinoM:$e.kapucinoM+ +h,kapucinoL:$e.kapucinoL+ +g,latteS:$e.latteS+ +v,latteM:$e.latteM+ +y,latteL:$e.latteL+ +f,rafS:$e.rafS+ +b,rafM:$e.rafM+ +E,fletWhiteS:$e.fletWhiteS+ +S,fletWhiteM:$e.fletWhiteM+ +B,cream:$e.cream+ +I,syrup:$e.syrup+ +L,milk:$e.milk+ +k,vegetableMilk:$e.vegetableMilk+ +_,lactoseFreeMilk:$e.lactoseFreeMilk+ +O},localStorage.setItem("object",JSON.stringify($e)),xe()}function xe(){if(U.value=$e.espresso,U.value>0){U.closest(".all-report__item").classList.add("active")}if(G.value=$e.americano,G.value>0){G.closest(".all-report__item").classList.add("active")}if(Q.value=$e.dopio,Q.value>0){Q.closest(".all-report__item").classList.add("active")}if(X.value=$e.kapucinoS,X.value>0){X.closest(".all-report__item").classList.add("active")}if(z.value=$e.kapucinoM,z.value>0){z.closest(".all-report__item").classList.add("active")}if(Z.value=$e.kapucinoL,Z.value>0){Z.closest(".all-report__item").classList.add("active")}if(ee.value=$e.latteS,ee.value>0){ee.closest(".all-report__item").classList.add("active")}if(te.value=$e.latteM,te.value>0){te.closest(".all-report__item").classList.add("active")}if(oe.value=$e.latteL,oe.value>0){oe.closest(".all-report__item").classList.add("active")}if(ne.value=$e.rafS,ne.value>0){ne.closest(".all-report__item").classList.add("active")}if(ie.value=$e.rafM,ie.value>0){ie.closest(".all-report__item").classList.add("active")}if(se.value=$e.fletWhiteS,se.value>0){se.closest(".all-report__item").classList.add("active")}(le.value=$e.fletWhiteM,le.value>0)&&le.closest(".all-report__item").classList.add("active");(ae.value=$e.cream,ae.value>0)&&ae.closest(".all-report__item").classList.add("active");(ue.value=$e.syrup,ue.value>0)&&ue.closest(".all-report__item").classList.add("active");(ce.value=$e.milk,ce.value>0)&&ce.closest(".all-report__item").classList.add("active");(re.value=$e.vegetableMilk,re.value>0)&&re.closest(".all-report__item").classList.add("active");(de.value=$e.lactoseFreeMilk,de.value>0)&&de.closest(".all-report__item").classList.add("active")}pe.addEventListener("click",(function(){Pe(),s.cashSumm=s.cashSumm+N,a.value=s.cashSumm,He+=1,localStorage.setItem("auditCounter",JSON.stringify(He)),Te()})),he.addEventListener("click",(function(){Pe(),s.cardSumm=s.cardSumm+N,u.value=s.cardSumm,He+=1,localStorage.setItem("auditCounter",JSON.stringify(He)),Fe()})),ge.addEventListener("click",(function(){c=document.getElementById("beforeMoney").value,s.allSumm=s.allSumm+ +c,localStorage.setItem("summ",JSON.stringify(s)),Te()}));var He=Number(0);window.onload=function(){(He=JSON.parse(localStorage.getItem("auditCounter")))>0&&($e=JSON.parse(localStorage.getItem("object")),s=JSON.parse(localStorage.getItem("summ")),l.value=s.allSumm,a.value=s.cashSumm,u.value=s.cardSumm,xe())},document.getElementById("closeDay").addEventListener("click",(function(){$e={espresso:0,americano:0,dopio:0,kapucinoS:0,kapucinoM:0,kapucinoL:0,latteS:0,latteM:0,latteL:0,rafS:0,rafM:0,fletWhiteS:0,fletWhiteM:0,cream:0,syrup:0,milk:0,vegetableMilk:0,lactoseFreeMilk:0},s={allSumm:0,cashSumm:0,cardSumm:0},l.value=s.allSumm,a.value=s.cashSumm,u.value=s.cardSumm,xe(),localStorage.removeItem("object"),localStorage.removeItem("summ"),localStorage.removeItem("auditCounter"),He=0,setTimeout((function(){location.reload()}),50)})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.addEventListener("click",(function(e){let t=e.target;if(t.closest("[data-quantity-plus]")||t.closest("[data-quantity-minus]")){const e=t.closest("[data-quantity]").querySelector("[data-quantity-value]");let o=parseInt(e.value);t.hasAttribute("data-quantity-plus")?(o++,+e.dataset.quantityMax&&+e.dataset.quantityMax<o&&(o=e.dataset.quantityMax)):(--o,+e.dataset.quantityMin?+e.dataset.quantityMin>o&&(o=e.dataset.quantityMin):o<1&&(o=0)),t.closest("[data-quantity]").querySelector("[data-quantity-value]").value=o}}))})();